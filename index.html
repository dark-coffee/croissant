<!DOCTYPE html>
<html>
<head>
    <title>croissant</title>

    <!--favicons-->
    <link rel="shortcut icon" href="./favicon.ico"/>
    <link rel="apple-touch-icon" href="./apple-touch-icon.png"/>

    <!--css-->
    <link rel="stylesheet" type="text/css" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>

    </style>
</head>
<body onresize="debugWindowSize();" onload="debugWindowSize();">
    <div class="pasty-box">
        <div class="croissant"></div>
    </div>

    <div class="drawer">

        <!--Section Title-->
        <div class="title">Crossiant</div>
        <div class="subtitle">Tasty SQL Scripts</div>

        <!--Script Boxes-->
        <div class="heading">Scripts</div>
        <div class="section-description">Downloadable script files.</div>

        <!--Adhoc Workload 1-->
        <div class="script-container">

            <div class="subtitle">Get Adhoc Workload Percentage</div>
            <div class="description">
                This script calculates the adhoc workload for a SQL instance, based on the plan cache, and writes it to screen.</br> 
                This is useful when determining whether to enable 'Optimize for AdHoc Workloads'.
            </div>
            <div class="button-container">
                <a class="dl-button" href="./scripts/AdhocQueryPercentageCheck.sql" download>download</a>
            </div>

        </div>


        <!--Adhoc Workload 2-->
        <div class="script-container">

            <div class="subtitle">Alternate Adhoc Workload Calculator</div>
            <div class="description">
                This script calculates the adhoc workload for a SQL instance based on the plan cache, and uses logic to make a recommendation.</br> 
                This is useful when determining whether to enable 'Optimize for AdHoc Workloads'.
            </div>
            <div class="button-container">
                <a class="dl-button" href="./scripts/AdhocQueryPercentageCheck2.sql" download>download</a>
            </div>

        </div>


        <!--Snippets-->
        <div class="heading">Snippets</div>
        <div class="section-description">Useful snippets of T-SQL.</div>
        <div class="snippet-container">
            <div class="snippet-description">Display Query Disk Statistics</div>
            <div class="snippet-code">SET STATISTICS IO ON</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">Display Query Time Statistics</div>
            <div class="snippet-code">SET STATISTICS TIME ON</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">Display Query Time & IO Statistics</div>
            <div class="snippet-code">SET STATISTICS TIME, IO ON</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">Get Instance Start Time</div>
            <div class="snippet-code">SELECT sqlserver_start_time FROM sys.dm_os_sys_info;</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">Database Integrity Check - Error Messages Only</div>
            <div class="snippet-code">DBCC CHECKDB WITH ALL_ERRORMSGS, NO_INFOMSGS;</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">Get Instance Version Number</div>
            <div class="snippet-code">SELECT value_data FROM sys.dm_server_registry WHERE value_name = 'CurrentVersion';</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">Get Instance Bitness</div>
            <div class="snippet-code">SELECT SUBSTRING ((SELECT @@VERSION), CHARINDEX('x',(SELECT @@VERSION)),3) as 'InstanceBitness';</div>
        </div>
        

        <div class="subtitle">Ozar Specific</div>
        <div class="snippet-container">
            <div class="snippet-description">sp_BlitzIndex, all databases, all indexes.</div>
            <div class="snippet-code">EXEC sp_BlitzIndex @GetAllDatabases = 1, @Mode = 2;</div>
        </div>

        <div class="snippet-container">
            <div class="snippet-description">sp_BlitzCache, queries with the most reads.</div>
            <div class="snippet-code">EXEC sp_BlitzCache @SortOrder = 'reads';</div>
        </div>
        
    </div>

    <div class="debug-bar">
        <span id="debug-window-size" style="color: #0b0b0b;"></span><span style="margin-right: 30px;"></span>
    </div>

    <footer>
        <span>&#129360;&nbsp; created by <a style="text-decoration: none; color: var(--color2);" href="https://github.com/dark-coffee">dark-coffee</a>, 2020.</span><span style="margin-right: 30px;"></span>
    </footer>

    <script>
        //Debug: Window Size
        function debugWindowSize () {

            //Define Variables
            var debugWindowWidth = window.innerWidth;
            var debugWindowHeight = window.innerHeight;
            var debugWindowDisplay = document.getElementById("debug-window-size");

            //Write Size to Screen
            debugWindowDisplay.innerHTML = "hello! this window is: " + debugWindowWidth + "x" + debugWindowHeight + ".";

        };
    </script>
</body>
</html>